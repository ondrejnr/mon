{"apiVersion": "v1", "data": {"bank-status.json": "{\n  \"title\": \"Bank Infrastructure Status\",\n  \"panels\": [\n    {\n      \"title\": \"Apache Pods (Scaling)\",\n      \"type\": \"stat\",\n      \"targets\": [{ \"expr\": \"kube_deployment_status_replicas{deployment='apache-php'}\" }]\n    },\n    {\n      \"title\": \"Transaction Volume\",\n      \"type\": \"graph\",\n      \"targets\": [{ \"expr\": \"rate(node_network_receive_bytes_total[5m])\" }]\n    }\n  ]\n}\n"}, "kind": "ConfigMap", "metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"data\":{\"bank-status.json\":\"{\\n  \\\"title\\\": \\\"Bank Infrastructure Status\\\",\\n  \\\"panels\\\": [\\n    {\\n      \\\"title\\\": \\\"Apache Pods (Scaling)\\\",\\n      \\\"type\\\": \\\"stat\\\",\\n      \\\"targets\\\": [{ \\\"expr\\\": \\\"kube_deployment_status_replicas{deployment='apache-php'}\\\" }]\\n    },\\n    {\\n      \\\"title\\\": \\\"Transaction Volume\\\",\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"targets\\\": [{ \\\"expr\\\": \\\"rate(node_network_receive_bytes_total[5m])\\\" }]\\n    }\\n  ]\\n}\\n\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"labels\":{\"grafana_dashboard\":\"1\"},\"name\":\"bank-grafana-dashboard\",\"namespace\":\"monitoring\"}}\n"}, "labels": {"grafana_dashboard": "1"}, "name": "bank-grafana-dashboard", "namespace": "monitoring"}}
{"apiVersion": "v1", "data": {"datasources.yaml": "apiVersion: 1\ndatasources:\n- name: Prometheus\n  type: prometheus\n  url: http://prometheus.monitoring:9090\n  access: proxy\n  isDefault: true\n"}, "kind": "ConfigMap", "metadata": {"annotations": {"argocd.argoproj.io/tracking-id": "monitoring:/ConfigMap:monitoring/grafana-datasources", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"data\":{\"datasources.yaml\":\"apiVersion: 1\\ndatasources:\\n- name: Prometheus\\n  type: prometheus\\n  url: http://prometheus.monitoring:9090\\n  access: proxy\\n  isDefault: true\\n\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{\"argocd.argoproj.io/tracking-id\":\"monitoring:/ConfigMap:monitoring/grafana-datasources\"},\"name\":\"grafana-datasources\",\"namespace\":\"monitoring\"}}\n"}, "name": "grafana-datasources", "namespace": "monitoring"}}
{"apiVersion": "v1", "data": {"prometheus.yml": "global:\n  scrape_interval: 15s\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['node-exporter.monitoring.svc.cluster.local:9100']\n  - job_name: 'apache'\n    static_configs:\n      - targets: ['apache-php.lamp:9117']\n  - job_name: 'phpfpm'\n    static_configs:\n      - targets: ['apache-php.lamp:9253']\n  - job_name: 'postgresql'\n    static_configs:\n      - targets: ['postgresql.lamp:9187']\n  - job_name: 'grafana'\n    static_configs:\n      - targets: ['grafana.monitoring:80']\n"}, "kind": "ConfigMap", "metadata": {"annotations": {"argocd.argoproj.io/tracking-id": "monitoring:/ConfigMap:monitoring/prometheus-config", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"data\":{\"prometheus.yml\":\"global:\\n  scrape_interval: 15s\\nscrape_configs:\\n  - job_name: 'prometheus'\\n    static_configs:\\n      - targets: ['localhost:9090']\\n  - job_name: 'node-exporter'\\n    static_configs:\\n      - targets: ['node-exporter.monitoring.svc.cluster.local:9100']\\n  - job_name: 'apache'\\n    static_configs:\\n      - targets: ['apache-php.lamp:9117']\\n  - job_name: 'phpfpm'\\n    static_configs:\\n      - targets: ['apache-php.lamp:9253']\\n  - job_name: 'postgresql'\\n    static_configs:\\n      - targets: ['postgresql.lamp:9187']\\n  - job_name: 'grafana'\\n    static_configs:\\n      - targets: ['grafana.monitoring:80']\\n\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{\"argocd.argoproj.io/tracking-id\":\"monitoring:/ConfigMap:monitoring/prometheus-config\"},\"name\":\"prometheus-config\",\"namespace\":\"monitoring\"}}\n"}, "name": "prometheus-config", "namespace": "monitoring"}}
